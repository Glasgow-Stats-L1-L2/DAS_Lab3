# Figures {-}

Including plots within an R Markdown document is straightforward. The R code for the plot is simply included within a code chunk including additional arguments for plot size and positioning. For example, this code chunk in the `.Rmd` file will produce the scatterplot of teaching and beauty scores below:

````
```{r scatplot, echo = FALSE, eval = TRUE, out.width = '70%', fig.align = "center", 
fig.pos = "h", warning = FALSE, fig.cap = "\\label{fig:scat} Relationship between 
teaching and beauty scores. The best-fitting line has been superimposed."}`r ''`
ggplot(evals.scores, aes(x = bty_avg, y = score)) +
  geom_point() +
  labs(x = "Beauty Score", y = "Teaching Score") +
  geom_smooth(method = "lm", se = FALSE)
```
````

```{r scatplot, echo = FALSE, eval = TRUE, out.width = '70%', fig.align = "center", fig.pos="h", warning = FALSE, message=FALSE, fig.cap = "\\label{fig:scat} Relationship between teaching and beauty scores. The best-fitting line has been superimposed."}
ggplot(evals.scores, aes(x = bty_avg, y = score)) +
  geom_point() +
  labs(x = "Beauty Score", y = "Teaching Score") +
  geom_smooth(method = "lm", se = FALSE)
```

**NB:** The "Figure 1:" label doesn't appear here before the caption, but it does in the `.pdf` file - see `ExampleReport.pdf` generated by `ExampleReport.Rmd`

Here, we have `echo = FALSE` and `eval = TRUE` as we only want to put the plot into the document and not the accompanying R code. Labelling is done the same way as with tables, that is, the label `\\label{fig:scat}` is placed within the figure caption, which is given by the argument `fig.cap`. For size and positioning of the figure we can include:

  * `out.width`: a percentage of the actual size of the produced plot;
  * `fig.width`: an integer value denoting the width of the figure;
  * `fig.align`: the alignment of the figure within the body of the document; and
  * `fig.pos`: can be used to force the positioning of the figure within the document. See Table 4 for a list of arguments taken from [here](https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions#Figures).

Parameter	|Position
:--------:|:-------------------------------------------------------------------------
h	        |Place the float here, i.e., approximately at the same point it occurs in the source text (however, not exactly at the spot)
t	        |	Position at the top of the page.
b	        |	Position at the bottom of the page.
p	        |	Put on a special page for floats only.
!	        |	Override internal parameters LaTeX uses for determining "good" float positions.
H	        |	Places the float at precisely the location in the LATEX code. Requires the float package. This is somewhat equivalent to h!.

Table: Different arguments to `fig.pos`.

For examples of using each of the above arguments see the Example Report Markdown file `ExampleReport.Rmd`.

<br>

**Task**
Include a plot showing the relationship between the teaching score and the age of the professors in your document by copying and modifying the above code into `Week3DA.Rmd`.  `Knit` the `.Rmd` file and notice what is produced in the `Week3DA.pdf` file.

***

**Further information**: Additional notes on figures can be found [here](https://bookdown.org/yihui/rmarkdown/r-code.html#figures).

<br>
<br>

